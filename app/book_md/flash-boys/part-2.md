![Shortform App](/img/logo.36a2399e.svg)![Shortform App](/img/logo-dark.70c1b072.svg)

Discover

Books

Articles

My library

Search

Discover

![Shortform App](/img/logo.36a2399e.svg)![Shortform App](/img/logo-dark.70c1b072.svg)

# Flash Boys

Back to Discover

[[book_md/flash-boys/preview|preview]]

  * [[book_md/flash-boys|flash-boys]]
  * Full Book Guide

    * [[book_md/flash-boys/shortform-introduction|shortform-introduction]]
    * [[book_md/flash-boys/part-1|part-1]]
    * [[book_md/flash-boys/part-2|part-2]]
    * [[book_md/flash-boys/part-3|part-3]]
    * [[book_md/flash-boys/exercise-reflect-on-high-frequency-trading-tactics|exercise-reflect-on-high-frequency-trading-tactics]]
    * [[book_md/flash-boys/part-4|part-4]]
    * [[book_md/flash-boys/part-5|part-5]]
    * [[book_md/flash-boys/exercise-reflect-on-high-frequency-trading-solutions|exercise-reflect-on-high-frequency-trading-solutions]]
  * [[book_md/flash-boys/highlights|highlights]]
  * [[book_md/flash-boys/community|community]]



Adding to Favorites 

Removing from Favorites 

## Part 2: The Stock Market Adapted to Technology

To understand the HFT tactics Katsuyama and his team found, we should discuss the stock market characteristics—and the regulations that Schwall learned about—that set the stage for HF traders to exploit individual investors. First, we’ll provide a brief overview of stock market fundamentals. Then we’ll discuss the early phases of electronic trading that preceded high-frequency trading and how it changed the stock market. Then we’ll explain the six conditions of the electronically-based stock market that HFT exploited. (We’ll discuss _how_ HFT exploited these precedents in Part 3.)

### Stock Market Fundamentals

The stock market is where investors buy and sell stock, or partial ownership in companies. The stock market is composed of many different stock exchanges, which are individual marketplaces where stocks are traded. The National Association of Securities Dealers Automated Quotations (Nasdaq), the New York Stock Exchange (NYSE), and Better Alternative Trading System (BATS) are all examples of stock exchanges.

Traders and brokers trade stocks on behalf of an investor at a stock exchange, typically doing so as part of investment firms, brokerage firms, or banks. Traders are the financial intermediaries between investors and stock exchanges, and they’re responsible for executing their customers’ orders.

(Shortform note: While Lewis mostly uses “trader” and “broker” interchangeably, there is a slight difference between the two. A trader usually buys or sells securities based on the requests of a portfolio manager at an investment firm to create an investment strategy that best fits their client. Brokers work directly with clients to buy and sell securities, and they may act as financial planners for their clients, such as by helping with a retirement plan or portfolio diversification.)

Lewis explains that these basic elements of the stock market—exchanges, brokers, and investors—have stayed the same over the years. But stock traders no longer buy and sell stocks in person on a stock exchange floor–-today, traders buy and sell stocks electronically through computer programs. The stock exchange buildings still exist but are now used to house stock exchange computers, called “matching engines,” which pair stock buy and sell orders.

(Shortform note: While Lewis uses “the stock market” or “Wall Street'' to broadly refer to financial processes, Thomas Sowell argues in _Basic Economics_ that a market is just humans engaging in transactions among themselves. Sowell asserts that when the stock market is treated instead as a personified, third-party entity, rhetoric is allowed that takes away people’s freedom to transact on mutually agreeable terms. His argument extends to stock exchanges transitioning to electronic platforms if technology is viewed as a tool, not as a third-party entity.)

### Electronic Trading

Today, anyone with a computer can access a stock exchange, since stocks are traded electronically, using computer technology to pair buyers and sellers in a virtual market. Lewis explains how both human and computer traders go through the same three steps of an electronic trade:

  1. Gather market data. This data includes information about different stocks and their current value at each stock exchange.
  2. Use that data to make a smart trading decision. Traders might identify a stock that is low in price worth buying or a stock that could be sold for a higher price. 
  3. Execute an order. Traders follow through with their trading decision and actually buy or sell stock. 



Lewis believes that humans are good at this process but asserts that technology is better. Computer programs can complete these steps more thoroughly and much faster than a person can, sending and receiving signals about market data in a fraction of the time it takes you to blink your eyes. If a trader has an extra split second to evaluate stock information, they have a slight advantage over other traders, as we’ll discuss in more detail later.

> **Electronic Versus Algorithmic Versus High-Frequency Trading**
> 
> While Lewis discusses electronic trading, he doesn’t differentiate between electronic trading, algorithmic trading, and HFT. **Electronic trading** involves creating an online brokerage account to facilitate electronic transfers between you and the brokerage. After placing an order, the brokerage uses its technology to interact with stock exchanges to execute trades.
> 
> While someone can make an electronic trade, someone can only write the code for an algorithmic trade. With**algorithmic trading** (also called automated trading, black-box trading, or algo-trading), a computer algorithm—a defined set of instructions—places a trade. The trade, in theory, can generate profits at a speed and frequency that is impossible for a human trader to do—this is **HFT** , or the most common kind of algorithmic trading. Lewis’s focus is HFT, which is probably why he doesn’t detail the other kinds of algorithmic trading.

Next we’ll discuss six characteristics of electronic trading that HFT later exploited.

#### Condition 1: Speed Matters

Lewis explains that in stock trading, speed is a crucial factor. Traders are always looking to lower their _latency times_ , or the time between sending and receiving a signal about market data or a stock order so that their orders are sent and received faster than everyone else’s. **A faster trader can buy and sell stocks at better prices.** Lewis explains that a lower latency also gives traders an extra split second to evaluate stock information, which can help them make better decisions. It’s the same concept that would give you an advantage if, for example, you’re taking a test and you get the questions five minutes before everyone else.

Lewis describes three factors that affect the latency of an electronic trade:

  * The hardware: This is all of the physical technology—computers, signal amplifiers, and so on—involved in transmitting data.
  * The software: This is the programming and code used to operate the hardware. It generates the data needed to perform functions and process information. 
  * The cable: This is the telecommunication line that transmits data between pieces of hardware. The cable can run cross-country, like a Verizon line, or it can connect computers within the same room. 



> **How Much Does Speed Matter?**
> 
> While Lewis asserts that speed is an important factor in HFT, critics argue that speed has _always_ been an important factor in any trading. This may be one reason that HFT has still gone unregulated, as regulators haven’t identified where to draw the line when it comes to speed and whether it’s even appropriate to punish certain traders solely because they took advantage of better technology to decrease the latency times of their trades.
> 
> Critics also argue that HFT doesn’t matter for retail trading since it’s not time-sensitive. Most regular investors use a long-term buy and hold strategy, so paying a few pennies or dollars more—due to HFT’s fast and frequent trades—when placing the trade isn’t significant in the overall return or risk.
> 
> But HFT’s speed does impact big investors, as a quick change in stock price can result in large losses. If, for instance, news of your pending purchase or the special knowledge you have hits the market before your trade and drives shares up even four or five dollars, the impact on your trade would be $4-5 million.

Lewis explains that traders have found ways to reduce the latency associated with each of these three factors through three methods: co-location, better code, and fiber-optic cable, each of which we’ll describe below.

##### Co-Location: Make the Hardware Faster

To speed up their electronic trading—and thus reduce their latency time—financial traders use co-location. Lewis explains that co-location is when exchanges place trading computers as close as possible to an exchange’s matching engine, which pairs buy and sell orders for a given stock. When the computer is closer to the matching engine, it can send and receive signals milliseconds faster, thus reducing its latency time. Think of it like running a race where one runner starts five feet ahead of everyone else.

Co-location is so important that trading firms have gone to great lengths to get closer to matching engines. Lewis describes how one firm moved its computers from Kansas City to Nutley, New Jersey (closer to the NYSE engines), reducing their latency times from 43 milliseconds to 3.8 milliseconds.

Exchanges and other data centers took advantage of this trend and made millions of dollars by renting out space near their matching engines to HFT firms. Then, these firms paid even _more_ money to move their machines closer—even by a few inches—within that space, showing the enormous profit potential of reducing latency times by even a few milliseconds.

> **Alternative Data Dissemination Systems Ease Co-Location Advantages**
> 
> Lewis notes that co-location gives certain traders a speed advantage, and some exchanges have taken steps to address this issue, such as by changing their system of data dissemination. Most co-location facilities use a system that sends data from the exchange server to clients sequentially based on when the trader connected to the server. Due to co-location, whichever trader is at the front of this virtual line has the speed advantage.
> 
> But since 2014, the National Stock Exchange of India (NSE) has shifted away from this system and started using the Multicast TBT (MTBT) system at its co-location facility. In the MTBT system, the exchange server sends data to a switch, which each trader connects to independently. Then the switch sends the data to the traders and acts as a middleman between the traders and the server’s data. Experts have noted that switching to the MTBT system may have helped eliminate preferential access.

##### Better Code: Make the Software Faster

Lewis explains that another way to reduce latency times is by creating faster code—stronger and speedier algorithms that facilitate trades. When your code can process information faster, it can make quicker market decisions, thus executing orders faster. This has led to trading firms seeking out talented programmers to improve their trading algorithms.

> **Humans vs. Algorithms**
> 
> We can consider trading algorithms as a way to forecast, or to analyze and predict future events—in this case, which stocks will be profitable to buy or sell—with an accuracy better than chance. In _Superforecasting_ , authors Philip Tetlock and Dan Gardner question why we should rely on humans for forecasting at all instead of an advanced computer algorithm. For situations where a well-validated statistical algorithm exists and has been proven reliable, computer predictions are almost always more accurate than those of human forecasters—but very few such algorithms exist.
> 
> Tetlock and Gardner believe that as technology advances, we may develop more of these algorithms, or refine the ones that already exist, such as the fast software used for HFT. But even then, the judgment of human forecasters will not be obsolete. Artificial intelligence (AI) is mostly immune to human cognitive biases, but it can’t interpret the results of its own predictions and create new meaning. Therefore, the authors argue, the future of forecasting will be a combination of skilled forecasters and powerful algorithms, so the solution to HFT won’t eliminate the need for human insight.

##### Fiber-Optic Cable: Make the Cable Faster

Lewis explains that the third method of decreasing latency times is to improve the cable that transmits the data between locations. To do this, firms use fiber-optic cable, which offers the most speed. These cables can be used between computers within the exchanges, but they’re also used for telecommunications routes that transmit data across the country, like the ones used by Verizon and AT&T.

Wall Street firms go to great lengths to improve their fiber-optic cable. Lewis describes a stock trader named Dan Spivey who saw an opportunity to improve latency times by building his own $300 million telecom route. The fastest existing line was 14.65 milliseconds, meaning it took 14.65 milliseconds for information from Point A to reach Point B. But Spivey’s would be 13 milliseconds.

To create this faster line, Spivey made the line out of fiber-optic cables and constructed it in as straight a line as possible between Chicago (where the Chicago Mercantile Exchange is) and Newark, New Jersey (where the Nasdaq data center is). Unlike other telecom companies, Spivey minimized the number of curves and turns, which would slow down the transmission of data. This required drilling through mountains and laying their cable through parking lots.

But all of this effort benefitted Spivey: He sold use of the line to trading firms for millions of dollars, showing how far traders were willing to go to gain a 1.65-millisecond speed advantage.

(Shortform note: In 2017, Spread Networks took another step in capitalizing on their line: A company called Zayo bought Spread Networks for $127 million.)

> **Hollow-Core Fiber Is the New Fiber-Optic Cable**
> 
> Since the publication of the book, HF traders have improved upon fiber-optic cable to transmit market data. Some traders are experimenting with hollow-core fiber, which takes a third of the time to transmit data. Trading firms use hollow-core fiber for short distances, such as to connect a data center to a nearby communication tower, which reduces the transmission time by a billionth of a second.
> 
> Hollow-core fiber is expensive to manufacture and doesn’t work well over long distances since the data is lost more quickly with hollow-core fiber than with traditional fibers. Manufacturers are working on improving long-distance transmission, and they report that dozens of HFT firms have contacted them about the improved fiber, and some firms have already started using hollow-core fiber. Other experts have expressed interest in using the hollow-core fiber between London and New York once the technology improves, thus representing the next step of extreme measures traders will go to improve speed.

#### Condition 2: Dark Pools

The rise of electronic trading also allowed for the development of _dark pools_. Lewis defines dark pools as private stock exchanges set up by large banks. Investors send their orders to the brokers at these banks, and the bank routes the order to its dark pool to be fulfilled instead of looking for buyers or sellers in the wider market.

(Shortform note: While Lewis discusses dark pools as a relatively new market phenomenon, the first dark pool was started in 1979 due to a regulation that allowed securities listed on an exchange to be traded off the exchange, offering more privacy than the public exchanges. For the next 20 years, dark pool trading accounted for only 3-5% of trades—until electronic trading platforms made setting up a dark pool easier.)

Since dark pools are private, banks don’t have to immediately report to the public what happens inside them, which means they don’t show real-time market changes. Because of this, traders _outside_ the dark pool have access to less information than traders _within_ the dark pool, which enables the latter to not only move faster on pricing changes, but also to _anticipate_ pricing changes, which they can then profit from.

Lewis explains that if a trader sells a large number of shares on the public market, the price naturally goes down since other traders would see the supply of that stock increase. If a trader sells a large number of shares in a dark pool, however, traders in the public market don’t see that sale happening, and so they don’t know that the price for that stock is about to decrease. This secrecy benefits the dark pool trader, who can sell the shares before the price drops on the public market, thus making more of a profit.

> **Archegos: Dark Pool Secrecy Backfires on Risky Trading**
> 
> Experts note that the secrecy of dark pools Lewis describes can be beneficial by facilitating favorable prices for retirement accounts as they rise in value, thus helping people with 401(k) or pension accounts. But critics of dark pools argue that the lack of transparency is a problem and that dark pools aren’t being used for their intended purpose: to reduce market impact when placing large trade orders.
> 
> Indeed, investors who abuse this secrecy can face serious consequences. Bill Hwang was arrested for fraud and racketeering in connection with his family firm, Archegos, after a risky investment strategy cost him $20 billion. Since Archegos was investing inside dark pools (so his large trades wouldn’t impact market prices), other banks and institutions weren’t aware of his trades or the terms of those trades, which may have deterred them from doing business with him or prevented him from building such a large market position. Regulators have expressed interest in implementing new disclosure rules to prevent this kind of trading activity.

#### Condition 3: Rebates

Eventually, HFT led to changes in the _rebate_ system. Lewis explains that stock exchanges would often charge a small fee to one broker—generally the buyer—of a trading order and pay a small fee (a rebate) to the other broker—usually the seller.

At first, traders followed this traditional rebate system in their electronic trades, but some exchanges catered to HF traders by changing their rules to _pay_ the brokers—generally the buyer—who were usually charged a fee. HF traders used this change to predict the flow of trades—if a broker could be paid for a trade she’d usually be charged for, it’s in her best interest to send it to the exchange where she’d be paid, thus allowing an HF trader to anticipate and monitor where brokers would send orders and could use that knowledge to get there first.

> **Incentives Don’t Always Work the Way We Expect**
> 
> We can understand rebates—a kind of trading incentive—through the lens of mechanism design, the process of designing rules to accomplish specific outcomes. Mechanism design is a tricky business—since rule adjustments have such a significant impact on the game’s outcome, small unforeseen side effects can have extreme consequences, as in the case of rebates and HFT. In _Freakonomics,_ Steven Levitt and Stephen Dubner describe how mechanism design can go wrong.
> 
> The _Freakonomics_ authors categorize incentives into three types: economic, social, and moral. Economic incentives are when you save money by behaving well, social incentives are when you can maintain a good reputation by behaving well, and moral incentives are when you can satisfy your conscience by behaving well. The authors argue that **economic incentives have the potential to backfire by inadvertently removing social and moral incentives**. This is certainly true with HFT—which, because it’s algorithm-based, doesn’t operate using social or moral decisions.
> 
> For example, a study of ten daycares in Israel discovered that when parents were fined $3 as a penalty for arriving late to pick up their children, the number of late parents _doubled_. Levitt and Dubner theorize that the fine caused parents to see the obligation as economic instead of social and moral—after paying a few bucks, they no longer felt guilty for being late, thus showing how difficult it is to design proper incentives.
> 
> In the same way, the system of rebates, which was originally intended to reward good trading behavior, ended up incentivizing people to game the market.

#### Condition 4: New Regulation

As the stock market changed due to technology, stock market regulations changed with it. In 2007, the Securities and Exchange Commission (SEC) enacted a new rule that would have lasting effects on the market—the Regulation National Market System (or Reg NMS). This rule stated that traders must buy stock at the lowest market price for investors. So if stock for a company ranges from $10.00 and $10.08, the trader has to buy it at whichever exchange sells it for $10.00. Reg NMS was intended to ease investors’ worries that traders weren’t getting them the best deals.

The SEC then created the Securities Information Processor (or SIP) to make sure investors had access to the same market prices so they could abide by Reg NMS. The SIP collects the stock prices at all thirteen stock exchanges and consolidates this information into one data feed. Thus, it calculates the lowest market price so traders can follow the regulation. Both the new regulation and the new processor would change the way HF traders operated, allowing them to more quickly identify price changes at any given time.

> **Pros and Cons of Reg NMS**
> 
> Like Lewis, other experts are concerned about the SEC’s regulations and their impact on markets. Some experts urge the SEC to reevaluate and update Reg NMS, while others recommend a complete overhaul of their rules. While Reg NMS may have positive effects on fair pricing and market competition, critics note that the regulations have led to further market fragmentation, difficulty executing orders quickly, and _less efficient prices_ , showing that financial experts can’t agree on the effects of the regulations. Some experts have even urged scrapping the idea of government oversight altogether and moving toward a system of self-regulation.
> 
> Additionally, the increase in regulation price visibility may explain why large investors have moved toward dark pool trading, rather than on the public markets, which would exacerbate the problems Lewis attributes to dark pools (as we’ll discuss later).

#### Condition 5: Order Types

Lewis describes order types as sets of instructions determining how traders place stock orders. For instance, a trader can use an order type to stipulate that her order goes through only if she’ll receive a rebate or to cancel her order if a larger order was about to go through.

Because of HFT, exchanges created unusual order types with complicated stipulations that would essentially place HF traders ahead of regular investors in priority, so that, for example, if an ordinary investor tried to buy 100 shares of a stock, an HF trader's standing order could be activated to scoop up those shares first.

HF traders came up with complex order types that hardly anyone understood except for people whose _job_ it specifically was to figure them out. As electronic trading became more popular, the number of order types increased from three to over 150. Lewis believes that most of these order types were actually unnecessary and gave HF traders more opportunities to exploit ordinary investors by gaining insight into their trading strategies and intentions.

> **Additional Order Type Strategies**
> 
> Lewis defines order types but doesn’t explore an important related aspect of order types: order-flow trading (or tape reading), which is a trading strategy that involves analyzing the trades that other brokers place, as well as the impact of these trades on the prices of stocks. In order-flow trading, data—such as information about large orders being executed, the volume of buyers and sellers, imbalances between buyers and sellers of certain stocks, and types of orders placed—is published in a “footprint chart.” Brokers can then analyze this data to determine smart short-term strategy trades. Comparing certain order types can help traders trade more effectively. While humans can analyze this data, algorithms are inherently faster.

#### Condition 6: Proprietary Trading

Another feature of electronic trading was the rise of proprietary traders—also known as prop traders or prop shops—who traded on behalf of a bank or independent financial firm, not the firm’s individual customers. Lewis explains that prop shops used the firm or bank’s own money to trade, rather than relying on the revenue from customer orders. Banks got a small commission from customer orders, but the profit margins weren’t large, so prop trading helped them make more money.

Lewis reveals that because the banks weren’t required to use the same technology for their customers as they did for prop trading, they used a faster telecom connection—such as Spivey’s fiber-optic line—for proprietary trading, but not for their individual customers. Thus their customers’ orders used slower cables, had higher latency times, and were at a speed disadvantage—all without their customers knowing about it.

(Shortform note: Since the publication of _Flash Boys_ , the Federal Reserve has enacted more regulations affecting banks and their proprietary trading. One such regulation is known as the Volcker Rule, which limits what kinds of dealings and investments banks can make with hedge funds and private equity funds. Before the Volcker Rule, many banks had HFT departments, but after its implementation, banks weren’t allowed to have proprietary trading desks or hedge fund investments. Consequently, banks have closed their HFT shops, but many face accusations of past HFT-related misconduct.)

[[book_md/flash-boys/part-1|part-1]]

[[book_md/flash-boys/part-3|part-3]]

![](https://bat.bing.com/action/0?ti=56018282&Ver=2&mid=f5e93800-44d8-4d1f-9620-93c21d7d3f99&sid=49fff5b0636c11eeb9c611038afc8668&vid=4a005010636c11ee80c703d4c4a7acd5&vids=0&msclkid=N&pi=0&lg=en-US&sw=800&sh=600&sc=24&nwd=1&tl=Shortform%20%7C%20Book&p=https%3A%2F%2Fwww.shortform.com%2Fapp%2Fbook%2Fflash-boys%2Fpart-2&r=&lt=672&evt=pageLoad&sv=1&rn=742118)

__

  *   * Allow anyone to **view** this annotation
  * Allow anyone to **edit** this annotation



* * *

Save Cancel

__



